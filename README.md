## What this does
It generates data to simulate a device using the content created in a Google Spreadsheet. It is an automated way to simulate a real device.

## How to run the script
* Create a Google Spreadsheet by following this template: [Training Spreadsheet](https://docs.google.com/spreadsheets/d/1MF5xih03tlFQzZD7fBbFS8miLiOK-d-5o_8PqT3oEH8/edit?usp=sharing).<br>
* Variable names on the spreadsheet can't contain **comma** or **spaces**. Values can't contain **comma**;<br>
* Make sure that your spreadsheet is set for Public visualization.
* Create a new Analysis, in the admin website.<br>
* Upload the file `scheduler.js.tago.js` to Tago's analysis.<br>
* Click on **Show Variables** and **New**. Input "*url*" on name entry, and the URL from your Google Spreadsheet on "*value*' entry.<br>
* Create or get a token from the device that will receive the simulated data.<br>
* Click on **Show Variables** and **New**. Input "*device_token*" on name entry, and the token on "*value*' entry.<br>
* Click and configure the **Time Interval** to run your script. Every row in the spreadsheet will be written in the device using that time interval.<br>
* Click on **Save**.<br>

## Check if it is Running
* Go to the Analysis, in the admin, inside your schedule analysis.<br>
* Click on **Show Console**.<br>
* Click on **Run Script**.<br>
* Check the Console to see if there is any error or if it is running successful.<br>

## Google Spreadsheet and private properties
You can input some reserved variables in your spreadsheet, that will not be write into your bucket. They have can trigger special conditions when the script get's to that line, like send email to a address or add color propertie to the variables writed in that moment.
They are:
* **color**: Will become a propertie of all variables generated by the spreadsheet. You can visualize colors in some widgets like maps or tables;
* **time**: Will become a propertie of all variables generated by the spreadsheet. It define a time for the variable to be added; the time can be in the future or in the past. Make sure to use the format *"MM/DD/YYYY HH:mm"*;
* **email**: Send an e-mail to the address. Use with email_msg to personalize the message.
* **email_msg**: Body of the message to be sent. Use it with email.
